<html><head>
<META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=iso-8859-1">
<META HTTP-EQUIV="Content-Language" CONTENT="en-US"><META NAME="robots" CONTENT="index, follow">
<META NAME="rating" CONTENT="General"><META NAME="distribution" CONTENT="Global">
<META NAME="revisit-after" CONTENT="15 days"><META NAME="author" CONTENT="Laurent Itti, JeVois">
<META NAME="description" CONTENT="JeVois Smart Embedded Machine Vision Toolkit - module DemoGPU">
<link href='http://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800' rel='stylesheet' type='text/css'>
<link rel='stylesheet prefetch' href='https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.4.0/css/font-awesome.min.css'>
<link rel="stylesheet" type="text/css" href="/modstyle.css">
</head> <body>
<table class=modinfo><tr><td>
<table class=modinfotop><tr><td><a href="/moddoc/DemoGPU/modinfo.html"><img src="/moddoc/DemoGPU/icon.png" width=48></a></td>
<td valign=middle><table><tr><td class=modinfoname>Demo GPU</td></tr>
<tr><td class=modinfosynopsis>Simple image filtering demo using OpenGL-ES 2.0 shaders on the Mali-400MP2 GPU. </td></tr></table></td></tr></table></td></tr>
<tr><td width=100%><table class=modinfoauth width=100%><tr><td>By Laurent Itti</td><td align=center>itti@usc.edu</td><td align=center>http://jevois.org</td><td align=right>GPL v3</td></tr></table></td></tr>
<tr><td><table class=videomapping><tr><td class=videomapping>
<table class=moduledata><tr><td class=moduledata>&nbsp;Language:&nbsp;C++</td><td class=moduledata align=center>Supports mappings with USB output:&nbsp;Yes</td><td class=moduledata align=right>Supports mappings with NO USB output:&nbsp;No&nbsp;</td></tr></table>
</td></tr>
<tr><td class=videomapping><small><b>&nbsp;Video Mapping: &nbsp; </b></small><tt>RGB565&nbsp;320&nbsp;240&nbsp;22.0&nbsp;YUYV&nbsp;320&nbsp;240&nbsp;22.0&nbsp;JeVois&nbsp;DemoGPU</tt></td></tr>
</table></td></tr>
<tr><td><div class=container>
<div class=galleryItem><a href="screenshot1.png"><img src="screenshot1.png"></a></div>
</div></td></tr><tr><td class=modinfodesc><h2>Module Documentation</h2><div class="textblock"><p>This class first copies the given input image into an OpenGL texture, then applies OpenGL-ES vertex and fragment shaders to achieve some image processing, and finally gets the resulting pixels back into an image.</p>
<p>This code is inspired somewhat from the tutorial and code examples found on this page: <a href="http://robotblogging.blogspot.com/2013/10/gpu-accelerated-camera-processing-on.html">http://robotblogging.blogspot.com/2013/10/gpu-accelerated-camera-processing-on.html</a></p>
<p>But an important distinction is that we render to a framebuffer with an RGB565 renderbuffer attached, which accelerates processing and transfer of the results a lot.</p>
<p>Dewarp algorithm contributed by JeVois user <a href="https://github.com/alsaibie">Ali AlSaibie</a>. It is to be used with a modified JeVois camera sensor that has a wide-angle lens. See <a href="http://jevois.org/qa/index.php?qa=153">http://jevois.org/qa/index.php?qa=153</a> for details.</p>
<p> <div align='center'><iframe width='560' height='315' src='http://www.youtube.com/embed/rxsWR3I_LnM?rel=0&loop=1' frameborder='0' allowfullscreen align='middle'></iframe></div></p>
<h2>Using this module </h2>
<p>Unfortunately, Mac OSX computers refuse to detect the JeVois smart camera as soon as it exposes one or more RGB565 video modes. Thus, you cannot use this module with Macs, and the module is disabled by default. In addition, RGB565 does not seem to work in <code>guvcview</code> either, on Ubuntu prior to 17.04! Proceed as follows to enable and use this module on a Linux host:</p>
<p>Edit <b>JEVOIS:/jevois/config/videomappings.cfg</b> and look for the line that mentions <a class="el" href="classDemoGPU.html" title="Simple image filtering demo using OpenGL-ES 2.0 shaders on the Mali-400MP2 GPU. ">DemoGPU</a>. It is commented out, so just remove the leading <b>#</b> sign. The line should then look like this:</p>
<pre class="fragment">RGB565 320 240 22.0 YUYV 320 240 22.0 JeVois DemoGPU
</pre><p>Restart JeVois and run this on your Linux host if older than Ubuntu 17.04:</p>
<pre class="fragment">sudo apt install ffmpeg
ffplay /dev/video0 -pixel_format rgb565 -video_size 320x240
</pre><p>or, with Ubuntu 17.04 and later:</p>
<pre class="fragment">guvcview -f RGBP -x 320x240
</div></td></tr>
<tr><td><table class=modinfopar><tr><th class=modinfopar>Parameter</th><th class=modinfopar>Type</th><th class=modinfopar>Description</th><th class=modinfopar>Default</th><th class=modinfopar>Valid&nbsp;Values</th></tr>
<tr class=modinfopar><td class=modinfopar>(<A HREF="/basedoc/classDemoGPU.html">DemoGPU</A>) effect</td><td class=modinfopar>Effect</td><td class=modinfopar>GPU image processing effect to apply</td><td class=modinfopar>Effect::Twirl</td><td class=modinfopar>Effect_Values</td></tr>
</table></td></tr>
<tr><td><table class=modinfomisc>
<tr class=modinfomisc><th class=modinfomisc>Detailed docs:</th><td class=modinfomisc><A HREF="/basedoc/classDemoGPU.html">DemoGPU</A></td></tr>
<tr class=modinfomisc><th class=modinfomisc>Copyright:</th><td class=modinfomisc>Copyright (C) 2016 by Laurent Itti, iLab and the University of Southern California</td></tr>
<tr class=modinfomisc><th class=modinfomisc>License:</th><td class=modinfomisc>GPL v3</td></tr>
<tr class=modinfomisc><th class=modinfomisc>Distribution:</th><td class=modinfomisc>Unrestricted</td></tr>
<tr class=modinfomisc><th class=modinfomisc>Restrictions:</th><td class=modinfomisc>None</td></tr>
<tr class=modinfomisc><th class=modinfomisc>Support URL:</th><td class=modinfomisc>http://jevois.org/doc</td></tr>
<tr class=modinfomisc><th class=modinfomisc>Other URL:</th><td class=modinfomisc>http://iLab.usc.edu</td></tr>
<tr class=modinfomisc><th class=modinfomisc>Address:</th><td class=modinfomisc>University of Southern California, HNB-07A, 3641 Watt Way, Los Angeles, CA 90089-2520, USA</td></tr>
</table></td></tr>
</table>
</body></html>
